# depot

A Warhammer 40,000 companion app powered by [Wahapedia](https://wahapedia.ru) data. Build army lists, browse datasheets, and plan your crusades with offline-capable tools.

*"Knowledge is power, guard it well."*

## Quick Start

**Requirements**: Node.js >=24.0.0, pnpm >=10.0.0

```bash
pnpm install
pnpm start
```

This installs dependencies, downloads Wahapedia data, processes it, and starts the web development server.

## Features

- **Offline Roster Building** - Create and edit army lists without internet
- **Comprehensive Data** - All factions, datasheets, stratagems, and wargear
- **Progressive Web App** - Install on any device for native-like experience
- **Dark Mode Support** - Perfect for plotting in the shadows

## Architecture

Monorepo with four packages:
- **@depot/cli** - Processes Wahapedia CSV exports into structured JSON
- **@depot/core** - Shared TypeScript types and utilities
- **@depot/workers** - Cloudflare Pages/Workers handlers (e.g., Cogitator). Files in `functions/` are thin adapters into this package.
- **@depot/web** - React PWA with IndexedDB storage

Built with React 19, Vite 6, Tailwind CSS v4, and TypeScript 5.9+.

## Sentry

The web client can report unhandled errors to Sentry. Configure the following environment variables:

- `VITE_SENTRY_DSN` – Sentry client DSN (frontend)
- `VITE_SENTRY_ENVIRONMENT` (optional) – display environment name, defaults to build mode
- `SENTRY_AUTH_TOKEN`, `SENTRY_ORG`, `SENTRY_PROJECT` – required in CI for source map upload

When deploying, set the matching environment variables/secrets (`SENTRY_DSN`, `SENTRY_AUTH_TOKEN`, `SENTRY_ORG`, `SENTRY_PROJECT`) so your CI/CD pipeline can inject them during the build (e.g., Cloudflare Pages env vars).

## Privacy

The published app exposes a privacy policy at `/privacy`. Update the content in `packages/web/src/routes/privacy/index.tsx` if data practices change.

## Legal / IP

depot is a free, open-source fan project intended for personal hobby use via the web. It is not monetised, has no in-app purchases or ads, and is not distributed via any app stores.

depot is not affiliated with, endorsed by, or sponsored by Games Workshop Limited. All related names, logos, imagery, and trademarks remain the property of their respective owners. Please support the official publications and products wherever you can.

Game data is derived from Wahapedia exports. Wahapedia is unaffiliated with Games Workshop and unaffiliated with depot; this project simply transforms its public CSV exports into offline JSON so you can browse and tinker with lists.

## License

MIT License - see [LICENSE](LICENSE.md)

---

![Depot](depot.jpeg)
*Generated by gpt-image-1*

*Knowledge is power, guard it well.*
