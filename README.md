# depot

A Warhammer 40,000 companion app powered by [Wahapedia](https://wahapedia.ru) data. Build army lists, browse datasheets, and plan your crusades with offline-capable tools.

*"Knowledge is power, guard it well."*

## Quick Start

**Requirements**: Node.js >=22.0.0, pnpm >=8.0.0

```bash
pnpm install
pnpm start
```

This installs dependencies, downloads Wahapedia data, processes it, and starts the web development server.

## Features

- **Offline Roster Building** - Create and edit army lists without internet
- **Comprehensive Data** - All factions, datasheets, stratagems, and wargear
- **Progressive Web App** - Install on any device for native-like experience
- **Dark Mode Support** - Perfect for plotting in the shadows

## Architecture

Monorepo with three packages:
- **@depot/cli** - Processes Wahapedia CSV exports into structured JSON
- **@depot/core** - Shared TypeScript types and utilities
- **@depot/web** - React PWA with IndexedDB storage

Built with React 19, Vite 6, Tailwind CSS v4, and TypeScript 5.9+.

## Sentry

The web client can report unhandled errors to Sentry. Configure the following environment variables:

- `VITE_SENTRY_DSN` – Sentry client DSN (frontend)
- `VITE_SENTRY_ENVIRONMENT` (optional) – display environment name, defaults to build mode
- `SENTRY_AUTH_TOKEN`, `SENTRY_ORG`, `SENTRY_PROJECT` – required in CI for source map upload

When deploying via GitHub Pages, set the matching GitHub Action secrets (`SENTRY_DSN`, `SENTRY_AUTH_TOKEN`, `SENTRY_ORG`, `SENTRY_PROJECT`) so the deployment workflow can inject them during the build.

## Privacy

The published app exposes a privacy policy at `/privacy`. Update the content in `packages/web/src/routes/privacy/index.tsx` if data practices change.

## License

MIT License - see [LICENSE](LICENSE.md)

---

![Depot](depot.jpeg)
*Generated by gpt-image-1*

*Knowledge is power, guard it well.*
